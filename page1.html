<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closet</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="selection-box-left">
    <h2>Selected Items</h2>
    <ul id="selected-list"></ul>
</div>

<div class="total-price-box">Total: $0</div>


<div class="purchase-box">Purchase</div>



<div class="snow"></div>


<div id="welcome-overlay">
    <div id="welcome-box">
        <h2>Welcome to my Outfit Chooser</h2>
        <button id="enter-btn">Enter Chooser</button>
    </div>
</div>
<a href="main.html" class="back-main">Restart</a>

<a href="page2.html?back=true" class="underpants-link">Underpants â†’</a>

<main>

<h1>Outer wears</h1>

<input type="text" id="search" placeholder="Search color...">

<select id="category" class="dropdown">
    <option value="">Filter by type...</option>
    <option value="hoodie">Hoodies</option>
    <option value="jacket">Jackets</option>
</select>

<p id="no-results" style="display:none; text-align:center; font-size:1.6rem; color:white; margin-top:12px;">
    Color not found
</p>

<div class="grid">

    <a href="https://stussy.com" target="_blank" class="card1" data-color="white" data-type="hoodie" data-price="119.99">
    <div class="image-container">
        <img src="https://www.stussy.com/cdn/shop/files/1925000_ASHH_1_f3add659-b526-407c-896d-0ae1dcd4d67e.jpg?v=1760560430&width=1920" alt="grey stussy hoodie">
    </div>
</a>

<a href="https://fearofgod.com" target="_blank" class="card2" data-color="black" data-type="hoodie" data-price="119.99">
    <div class="image-container">
        <img src="https://fearofgod.com/cdn/shop/files/192AS252052F_CLASSIC_FIT_FLEECE_HOODIE-JET_BLACK_1-COPY_900x.jpg?v=1760727427" alt="fear of god black essentials hoodie">
    </div>
</a>

<a href="https://stockx.com/search?s=sp5der" target="_blank" class="card3" data-color="beige" data-type="hoodie" data-price="139.99">
    <div class="image-container">
        <img src="https://tse3.mm.bing.net/th/id/OIP.No8wFllnHr9GJyba8P-ZnQHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="beige sp5der hoodie">
    </div>
</a>

<a href="https://fearofgod.com" target="_blank" class="card4" data-color="grey" data-type="hoodie" data-price="119.99">
    <div class="image-container">
        <img src="https://image.goat.com/transform/v1/attachments/product_template_additional_pictures/images/081/483/798/original/1090067_01.jpg.jpeg?action=crop&width=2600" alt="grey essential hoodie">
    </div>
</a>

<a href="https://stussy.com" target="_blank" class="card5" data-color="black" data-type="hoodie" data-price="109.99">
    <div class="image-container">
        <img src="https://www.stussy.com/cdn/shop/files/1925000_BLAC_1.jpg?v=1760560576&width=1920" alt="black stussy hoodie">
    </div>
</a>

<a href="https://www.gap.com" target="_blank" class="card6" data-color="white" data-type="hoodie" data-price="119.99">
    <div class="image-container">
        <img src="https://cdn.platform.next/common/items/default/default/itemimages/3_4Ratio/product/lge/AU2863s4.jpg?im=Resize,width=750" alt="white gap zip up hoodie">
    </div>
</a>

<a href="https://stussy.com" target="_blank" class="card7" data-color="pink" data-type="hoodie" data-price="149.99">
    <div class="image-container">
        <img src="https://tse3.mm.bing.net/th/id/OIP.M6QOYwBH95eRjf8u2kAz3AHaJT?rs=1&pid=ImgDetMain&o=7&rm=3" alt="pink sp5der hoodie">
    </div>
</a>

<a href="https://www.thenorthface.com" target="_blank" class="card8" data-color="white" data-type="jacket" data-price="119.99">
    <div class="image-container">
        <img src="https://th.bing.com/th?id=OPHS.TWO0LzUJGrho%2fQ474C474&w=474&h=474&qlt=100&o=5&dpr=2&pid=21.1" alt="The north face puffer jacket">
    </div>
</a>


</div>

</main>

<script>
    const search = document.getElementById("search");
    const category = document.getElementById("category");
    const cards = document.querySelectorAll(".grid a");
    const noResults = document.getElementById("no-results");

    function filterItems() {
        const searchValue = search.value.toLowerCase().trim();
        const categoryValue = category.value;
        let matches = 0;

        cards.forEach(card => {
            const color = card.getAttribute("data-color").toLowerCase();
            const type = card.getAttribute("data-type");

            const colorMatch = searchValue.length < 3 || color.includes(searchValue);
            const typeMatch = categoryValue === "" || type === categoryValue;

            if (colorMatch && typeMatch) {
                card.style.display = "block";
                matches++;
            } else {
                card.style.display = "none";
            }
        });

        noResults.style.display = matches === 0 ? "block" : "none";
    }

    search.addEventListener("input", filterItems);
    category.addEventListener("change", filterItems);
</script>

<script>
    const overlay = document.getElementById("welcome-overlay");
    const enterBtn = document.getElementById("enter-btn");

    const params = new URLSearchParams(window.location.search);
    const comingBack = params.get("back");

    if (comingBack === "true") {
        overlay.style.display = "none";
    }

    enterBtn.addEventListener("click", () => {
        overlay.style.opacity = "0";
        setTimeout(() => overlay.style.display = "none", 500);
    });
</script>

<script>
    const snowContainer = document.querySelector(".snow");

    for (let i = 0; i < 80; i++) {
        const snowflake = document.createElement("span");
        const size = Math.random() * 5 + 2; 
        const left = Math.random() * 100;
        const duration = Math.random() * 5 + 5;

        snowflake.style.width = size + "px";
        snowflake.style.height = size + "px";
        snowflake.style.left = left + "vw";
        snowflake.style.animationDuration = duration + "s";

        snowContainer.appendChild(snowflake);
    }
</script>

<script>
    const selectedList = document.getElementById("selected-list");
    const totalPriceBox = document.querySelector(".total-price-box");

    function updateTotal() {
        const saved = JSON.parse(localStorage.getItem("selectedItems")) || [];
        let total = 0;

        saved.forEach(item => {
            total += Number(item.price);
        });

        totalPriceBox.textContent = "Total: $" + total;
    }

    function saveSelections() {
        const items = [...selectedList.children].map(li => ({
            name: li.dataset.name,
            src: li.querySelector("img").src,
            price: li.dataset.price
        }));

        localStorage.setItem("selectedItems", JSON.stringify(items));
        updateTotal();
    }

    function loadSelections() {
        const saved = JSON.parse(localStorage.getItem("selectedItems")) || [];

        saved.forEach(item => {
            const li = document.createElement("li");
            li.dataset.name = item.name;
            li.dataset.price = item.price;

            const label = document.createElement("span");
            label.textContent = item.name + " - $" + item.price;

            const thumb = document.createElement("img");
            thumb.src = item.src;
            thumb.classList.add("selected-thumb");

            li.appendChild(label);
            li.appendChild(thumb);

            li.addEventListener("click", () => {
                li.remove();
                saveSelections();
            });

            selectedList.appendChild(li);
        });

        updateTotal();
    }

    document.querySelectorAll(".grid a").forEach(card => {
        card.addEventListener("click", function(event) {
            event.preventDefault();

            const img = this.querySelector("img");
            const itemName = img.alt || "Selected Item";
            const itemSrc = img.src;
            const itemPrice = this.dataset.price;

            const existing = [...selectedList.children].find(li => li.dataset.name === itemName);

            if (existing) {
                existing.remove();
                saveSelections();
            } else {
                const li = document.createElement("li");
                li.dataset.name = itemName;
                li.dataset.price = itemPrice;

                const label = document.createElement("span");
                label.textContent = itemName + " - $" + itemPrice;

                const thumb = document.createElement("img");
                thumb.src = itemSrc;
                thumb.classList.add("selected-thumb");

                li.appendChild(label);
                li.appendChild(thumb);

                li.addEventListener("click", () => {
                    li.remove();
                    saveSelections();
                });

                selectedList.appendChild(li);
                saveSelections();
            }
        });
    });

    loadSelections();
</script>



</body>
</html>
